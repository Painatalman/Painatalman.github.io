<h1 id="emojify-js"><a href="#emojify-js" class="headerlink" title="emojify.js"></a>emojify.js</h1><p><a href="https://www.npmjs.org/package/emojify.js"><img src="http://img.shields.io/npm/v/emojify.js.svg?style=flat-square" alt="npm version"></a><br><a href="http://bower.io/search/?q=emojify.js"><img src="http://img.shields.io/bower/v/emojify.js.svg?style=flat-square" alt="Bower version"></a><br><a href="http://hassankhan.mit-license.org/"><img src="http://img.shields.io/npm/l/emojify.js.svg?style=flat-square" alt="MIT Licensed"></a><br><a href="https://gitter.im/hassankhan/emojify.js"><img src="https://badges.gitter.im/hassankhan/emojify.js.svg" alt="Gitter chat"></a></p>
<hr>
<table>
<thead>
<tr>
<th>Master</th>
<th>Develop</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://travis-ci.org/hassankhan/emojify.js"><img src="http://img.shields.io/travis/hassankhan/emojify.js.svg?style=flat-square" alt="Master branch build status"></a></td>
<td><a href="https://travis-ci.org/hassankhan/emojify.js"><img src="http://img.shields.io/travis/hassankhan/emojify.js/develop.svg?style=flat-square" alt="Develop branch build status"></a></td>
</tr>
<tr>
<td><a href="https://ci.appveyor.com/project/hassankhan/emojify-js"><img src="https://ci.appveyor.com/api/projects/status/908bymld8nm3ykxm?svg=true" alt="Master branch Windows build status"></a></td>
<td><a href="https://ci.appveyor.com/project/hassankhan/emojify-js"><img src="https://ci.appveyor.com/api/projects/status/908bymld8nm3ykxm/branch/develop?svg=true" alt="Develop branch Windows build status"></a></td>
</tr>
</tbody>
</table>
<p><a href="https://ci.testling.com/hassankhan/emojify.js"><img src="https://ci.testling.com/hassankhan/emojify.js.png" alt="Browser Results"></a></p>
<p>A swiss-army-knife for all emoji, in Javascript. Used by <a href="https://gitter.im/">Gitter</a> and <a href="https://www.mapbox.com/blog/emoji-map-markers/">Mapbox</a>.</p>
<p>The emoji keywords are as described by <a href="http://www.emoji-cheat-sheet.com">emoji-cheat-sheet.com</a>.</p>
<p>Go to this project’s <a href="http://hassankhan.github.com/emojify.js">GitHub pages</a> to see the code in action.</p>
<h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><ul>
<li>Fast</li>
<li>Awesome</li>
<li>Converts emoticons like <code>:) :( :&#39;(</code></li>
<li>Allows customisation of processed emoji</li>
<li>Multiple modes; <code>img</code>, sprites and data-URI</li>
<li>Available on a CDN <strong>(gasp)</strong></li>
<li>Includes a <a href=".htaccess">sample <code>.htaccess</code> file</a> for caching Javascript and CSS</li>
<li>Switchable emoji sets <strong>(SOON!)</strong></li>
<li>Made from unicorn blood</li>
</ul>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Care about old browsers compatibility? Use <a href="https://github.com/es-shims/es5-shim">https://github.com/es-shims/es5-shim</a></p>
<h3 id="Via-cdnjs"><a href="#Via-cdnjs" class="headerlink" title="Via cdnjs"></a>Via cdnjs</h3><p>emojify.js is now available on cdnjs - <a href="https://cdnjs.com/libraries/emojify.js">https://cdnjs.com/libraries/emojify.js</a></p>
<p>Add this to the rest of your stylesheet imports:</p>
<p><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;//cdnjs.cloudflare.com/ajax/libs/emojify.js/1.0.1/emojify.min.css&quot; /&gt;</code></p>
<p>Then add this to your Javascript code:</p>
<p><code>&lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/emojify.js/1.0.1/emojify.min.js&quot;&gt;&lt;/script&gt;</code></p>
<h3 id="Via-Bower"><a href="#Via-Bower" class="headerlink" title="Via Bower"></a>Via Bower</h3><p><code>bower install emojify.js --save</code></p>
<h3 id="Via-npm"><a href="#Via-npm" class="headerlink" title="Via npm"></a>Via npm</h3><p><code>npm install emojify.js  --save</code></p>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="setConfig-object"><a href="#setConfig-object" class="headerlink" title="setConfig([object])"></a>setConfig([object])</h3><p><em>This works in the browser and on Node</em></p>
<h4 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h4><ul>
<li><code>object</code> - Optional JSON object with any of the following attributes:</li>
</ul>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>blacklist.elements</code></td>
<td><code>[&#39;script&#39;, &#39;textarea&#39;, &#39;a&#39;, &#39;pre&#39;, &#39;code&#39;]</code></td>
<td>An array of elements you don’t want emojified</td>
</tr>
<tr>
<td><code>blacklist.classes</code></td>
<td><code>[&#39;no-emojify&#39;]</code></td>
<td>An array of classes you don’t want emojified</td>
</tr>
<tr>
<td><code>mode</code></td>
<td><code>img</code></td>
<td>By default, emojify will output an <code>img</code> with a <code>src</code> attribute for each emoji found. But if <code>mode</code> is set to <code>sprite</code> or <code>data-uri</code>, then <code>span</code>s with classes are outputted. Don’t forget to include the appropriate CSS for your choice though, see the <code>/dist</code> directory.</td>
</tr>
<tr>
<td><code>tag_type</code></td>
<td><code>null</code></td>
<td>When set, emojify uses this element with the class <code>emoji emoji-#{emojiname}</code> instead of an <code>img</code> with a <code>src</code> attribute.  Example valid values: <code>div</code>, <code>span</code>. This takes precedence over the <code>mode</code> option. Note: if you’re not using <code>img</code>s, <code>.emoji-+1</code> isn’t a valid class, so <code>.emoji-plus1</code> is used instead.</td>
</tr>
<tr>
<td><code>only_crawl_id</code></td>
<td><code>null</code></td>
<td><strong>[DEPRECATED]</strong> Restricts searching for emojis to a specified element &amp; it’s children. If null, and no object is passed to <code>run()</code>, <code>document.body</code> is used</td>
</tr>
<tr>
<td><code>img_dir</code></td>
<td><code>&#39;images/emoji&#39;</code></td>
<td>Defines the path to the emoji images</td>
</tr>
<tr>
<td><code>ignore_emoticons</code></td>
<td><code>false</code></td>
<td>If <code>true</code>, only convert emoji like <code>:smile:</code> and ignore emoticons like <code>:)</code></td>
</tr>
</tbody>
</table>
<h4 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h4><pre><code class="js">emojify.setConfig({<span class="attr">tag_type</span> : <span class="string">'div'</span>});
</code></pre>
<hr>
<h3 id="run-element-replacer"><a href="#run-element-replacer" class="headerlink" title="run([element], [replacer])"></a>run([element], [replacer])</h3><p><em>This works in the browser and Node</em></p>
<h4 id="Parameters-1"><a href="#Parameters-1" class="headerlink" title="Parameters"></a>Parameters</h4><ul>
<li><code>element</code> - Optional HTML element to restrict the emojification to.</li>
<li><code>replacer</code> - Optional Function to override emoji replacement behaviour with your own. The function will receive two arguments, the emoji pattern found (<code>emoji</code>), and the emoji name (<code>name</code>). In the case of emoticons, for example, <code>emoji = &#39;:)&#39;</code> and <code>name = &#39;smile&#39;</code>. Your function must return a HTMLElement.</li>
</ul>
<h5 id="Browser"><a href="#Browser" class="headerlink" title="Browser"></a>Browser</h5><pre><code class="js">emojify.run();
<span class="comment">// OR</span>
emojify.run(<span class="built_in">document</span>.getElementById(<span class="string">'my-element'</span>))
<span class="comment">// OR</span>
emojify.run(<span class="literal">null</span>, <span class="function"><span class="keyword">function</span>(<span class="params">emoji, emojiName</span>)</span>{
  <span class="keyword">var</span> span = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);
  span.className = <span class="string">'emoji emoji-'</span>  + emojiName;
  span.innerHTML = emoji + <span class="string">' replaced'</span>;
  <span class="keyword">return</span> span;
});
</code></pre>
<h5 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h5><p>Requires you to have jsdom installed:<br><code>npm i jsdom --save</code></p>
<pre><code class="js"><span class="keyword">var</span> jsdom = <span class="built_in">require</span>(<span class="string">'jsdom'</span>)

jsdom.env({
    <span class="attr">html</span>: <span class="string">"&lt;p&gt;&lt;code&gt;jhhh&lt;/code&gt;&lt;em&gt;:)&lt;/em&gt;&lt;/p&gt;"</span>,
    <span class="attr">done</span>: <span class="function"><span class="keyword">function</span>(<span class="params">errors, window</span>) </span>{
        emojify.run(<span class="built_in">window</span>.document.body)
    }
});
</code></pre>
<hr>
<h3 id="replace-string-callback"><a href="#replace-string-callback" class="headerlink" title="replace(string, [callback])"></a>replace(string, [callback])</h3><p><em>This works in the browser and on Node</em></p>
<h4 id="Parameters-2"><a href="#Parameters-2" class="headerlink" title="Parameters"></a>Parameters</h4><ul>
<li><code>string</code> - String to emojify</li>
<li><code>callback</code> - Optional callback function to output emoji with</li>
</ul>
<h4 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h4><p>By default, emojify.js uses the internal function <code>defaultReplacer()</code> to replace emoji. You can override this behaviour by supplying your own callback function.</p>
<p>Your callback function will receive two arguments, the emoji pattern found (<code>emoji</code>), and the emoji name (<code>name</code>). In the case of emoticons, for example, <code>emoji = &#39;:)&#39;</code> and <code>name = &#39;smile&#39;</code>.</p>
<p>The context in which your replacer function is run will have the config available. So you can access properties such as <code>img_dir</code> at <code>this.config.img_dir</code>.</p>
<pre><code class="js">emojify.replace(<span class="string">'I am happy :)'</span>);
<span class="comment">// OR</span>
replacer = <span class="function"><span class="keyword">function</span>(<span class="params">emoji, name</span>) </span>{
    <span class="comment">// Customise output here</span>
    <span class="keyword">return</span> emojifiedString;
}

emojify.replace(<span class="string">'I am happy :)'</span>, replacer);
</code></pre>
<h2 id="Contributing-changes"><a href="#Contributing-changes" class="headerlink" title="Contributing changes"></a>Contributing changes</h2><p>Please read <a href="CONTRIBUTING.md">CONTRIBUTING.md</a>.</p>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Credits</h2><ul>
<li><a href="https://github.com/hassankhan/emojify.js/contributors">All Contributors</a></li>
<li><a href="https://github.com/hassankhan">Hassan Khan</a></li>
</ul>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>Please read <a href="LICENSE.md">LICENSE.md</a>. For image attributions, please read <a href="LICENSE-IMAGES.md">LICENSE-IMAGES.md</a></p>
